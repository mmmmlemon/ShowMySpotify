// Welcome
<template>
    <div class="container fade_in_slow_anim">
        <!-- —Ñ–æ–Ω–æ–≤–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ -->
        <BackgroundImage :backgroundImageUrl="homePageImageUrl"/>
        <div class="row justify-content-center">
            <!-- –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω -->
            <div class="col-12 col-sm-12 col-md-10 col-lg-10 padding_10 margin_vertical" width="20%;" v-if="spotifyUsername == false">
                <div class="col-12">
                    <h2 class="text-center"><b>SpotiFYI</b></h2>
                    <div class="text-center ">
                        <img :src="siteLogoUrl" class="fade_in_slow_anim" width="10%" alt="">
                    </div>
                    <h5 class="text-center border_underline">–ö–∞–∫–æ–π-–Ω–∏–±—É–¥—å –∫—Ä—É—Ç–æ–π —Å–ª–æ–≥–∞–Ω</h5>
                    <p>–ö–∞–∫–æ–µ-–Ω–∏–±—É–¥—å –∫—Ä—É—Ç–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–∞–π—Ç–∞. Lorem ipsum dolor sit amet consectetur, adipisicing elit. Veritatis tenetur cum quaerat eveniet suscipit minus ipsum natus totam porro vero officiis odit est, rem alias minima sed, officia delectus quisquam.Sit nihil, dignissimos est aperiam molestias voluptatum perferendis ad quaerat laudantium odio sequi, vero eius. Doloribus quibusdam unde, enim voluptas assumenda, maxime id distinctio vero quo ullam neque necessitatibus aspernatur!</p>
                    <hr>
                    <div class="row justify-content-center">
                        <div class="col-md-4 col-10 margin_vertical justify-content-center">
                            <a href="/login" class="btn btn-primary btn-rounded btn-block">–í–æ–π—Ç–∏ –≤ Spotify</a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ª–æ–≥–∏–Ω–µ–Ω -->
            <div class="col-12 col-sm-12 col-md-10 col-lg-10" v-if="spotifyUsername != -1 && spotifyUsername != false">

                <div class="row justify-content-center text-center">
                    <!-- –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ -->
                    <div class="col-11 text-center d-none d-md-block">
                        <h2 v-if="spotifyUsername != false" class="fade_in_anim font_4vw">–ü—Ä–∏–≤–µ—Ç, <b>{{spotifyUsername}}</b>!</h2>
                    </div>
                    <!-- –¥–ª—è –º–æ–±–∏–ª–æ–∫ -->
                    <div class="col-11 text-center d-sm-block d-md-none">
                        <h2 v-if="spotifyUsername != false" class="fade_in_anim font_6vw">–ü—Ä–∏–≤–µ—Ç, <b>{{spotifyUsername}}</b>!</h2>
                    </div>
                    
                    <!-- –ª–æ–∞–¥–µ—Ä -->
                    <div class="container bounce_in_anim" v-if="spotifyUserTracksCount == -1 && spotifyUsername != false">
                        <Loader/>
                    </div>

                    <!-- –∫–æ–≥–¥–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∫–æ–ª-–≤–æ —Ç—Ä–µ–∫–æ–≤, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ -->
                    <div v-if="spotifyUserTracksCount != -1" class=" col-10 fade_in_anim">
                        <!-- –µ—Å–ª–∏ —Ç—Ä–µ–∫–æ–≤ –±–æ–ª—å—à–µ 150 -->
                        <h3 v-if="spotifyUserTracksCount >= 150">
                            –í —Ç–≤–æ–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –±–æ–ª–µ–µ —á–µ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç—Ä–µ–∫–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ <i class="fas fa-heart primary_color heartbeat_anim"></i>
                        </h3>
                        <!-- –µ—Å–ª–∏ —Ç—Ä–µ–∫–æ–≤ –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ 50 -->
                        <h4 v-else-if="spotifyUserTracksCount >= 50">
                            –í —Ç–≤–æ–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç—Ä–µ–∫–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞! üòâ
                        </h4>
                        <!-- –µ—Å–ª–∏ —Ç—Ä–µ–∫–æ–≤ –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ 10 -->
                        <h4 v-else-if="spotifyUserTracksCount >= 10">
                            –ê–π! –ú–∞–ª–æ–≤–∞—Ç–æ –±—É–¥–µ—Ç! <img src="/img/malovato_budet.png" width="50px">
                        </h4>  
                        <!-- –µ—Å–ª–∏ —Ç—Ä–µ–∫–æ–≤ –º–µ–Ω—å—à–µ 10 -->
                        <h4 v-else-if="spotifyUserTracksCount < 10 && spotifyUserTracksCount > 0">
                            –û–π, —á—Ç–æ-—Ç–æ —É —Ç–µ–±—è –ø—É—Å—Ç–æ... üò≥
                        </h4>              
                        <!-- –µ—Å–ª–∏ —Ç—Ä–µ–∫–æ–≤ 0 -->
                        <h4 v-else-if="spotifyUserTracksCount == 0">
                            {{spotifyUserTracksCount}} –ø–µ—Å–µ–Ω? bruh... <img src="/img/bruh.png" width="50px">
                        </h4>
                        <h3 v-else></h3>
                        
                        <!-- —Å–æ–æ–±—â–µ–Ω–∏–µ –µ—Å–ª–∏ –∫–æ–ª-–≤–æ —Ç—Ä–µ–∫–æ–≤ –±–æ–ª—å—à–µ –Ω—É–ª—è, –Ω–æ –º–µ–Ω—å—à–µ 50 -->
                        <h5 v-if="spotifyUserTracksCount < 50 && spotifyUserTracksCount > 0">
                            –°–ª–∏—à–∫–æ–º –º–∞–ª–æ —Ç—Ä–µ–∫–æ–≤ —á—Ç–æ–±—ã —Å–æ—Å—Ç–∞–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É. –î–æ–±–∞–≤—å –ø–æ–±–æ–ª—å—à–µ –ø–µ—Å–µ–Ω –≤ —Å–≤–æ—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É (–≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ: {{spotifyUserTracksCount}}, –Ω—É–∂–Ω–æ: 50).
                        </h5>
                        <!-- —Å–æ–æ–±—â–µ–Ω–∏–µ –µ—Å–ª–∏ —Ç—Ä–µ–∫–æ–≤ - –Ω–æ–ª—å -->
                        <h5 v-else-if="spotifyUserTracksCount == 0">
                            –ù–∏ –æ–¥–Ω–æ–π –ø–µ—Å–Ω–∏ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ. –î–æ–±–∞–≤—å –∏—Ö –ø–æ–±–æ–ª—å—à–µ (–Ω—É–∂–Ω–æ: 50).
                        </h5>
                        <!-- —Å—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å -->
                        <h5 v-else class="fade_in_anim_500">
                            –ü–µ—Ä–µ–π–¥–∏ –≤ <router-link to="/profile" class="border_underline">—Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å</router-link> —á—Ç–æ–±—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                        </h5>
                        <!-- –∫–∞—Ä—Ç–∏–Ω–∫–∞ —Å –≥—Ä–∞—Ñ–∏–∫–æ–º -->
                        <div class="row justify-content-center" v-bind:class="{ invisible: !welcomeImgLoaded, fade_in_anim: welcomeImgLoaded }">
                            <div class="col-8">
                                <img :src="welcomeImageUrl" width="90%" style="border-radius: 40px;" @load="onWelcomeImgLoad">
                            </div>
                        </div> 
                    </div>

                </div>
            </div>
        </div>
    </div>
</template>

<script>
    export default {
        beforeMount(){
            //–ø–æ–ª—É—á–∏—Ç—å —Ñ–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            if(this.homePageImageUrl == -1)
            { this.$store.dispatch('getHomePageImageUrl'); }

            //–ø–æ–ª—É—á–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø —Å–∞–π—Ç–∞
            if(this.siteLogoUrl == -1)
            { this.$store.dispatch('getSiteLogoUrl'); }

            //–ø–æ–ª—É—á–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
            if(this.welcomeImageUrl == -1)
            { this.$store.dispatch('getWelcomeImageUrl'); } 
        },

        mounted(){
            //–ø–æ–ª—É—á–∏—Ç—å —é–∑–µ—Ä–Ω–µ–π–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            if(this.spotifyUsername == -1)
            { this.$store.dispatch('getSpotifyUsername'); }
          
            //–ø–æ–ª—É—á–∏—Ç—å –∫–æ–ª-–≤–æ —Ç—Ä–µ–∫–æ–≤ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
            if(this.spotifyUserTracksCount == -1)
            { this.$store.dispatch('getHomePageUserTracksCount'); }    

        },
        
        data(){
            return {
                welcomeImgLoaded: false,
            }
        },
        methods: {
            onWelcomeImgLoad(){
                this.welcomeImgLoaded = true;
            }
        },

        computed: {
            //—é–∑–µ—Ä–Ω–µ–π–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            spotifyUsername: function(){
                return this.$store.state.homePage.spotifyUsername;
            },
            //–∫–æ–ª-–≤–æ —Ç—Ä–µ–∫–æ–≤ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ
            spotifyUserTracksCount: function(){
                return this.$store.state.homePage.spotifyUserTracksCount;
            },
            //—Å—Å—ã–ª–∫–∞ –Ω–∞ –ª–æ–≥–æ—Ç–∏–ø —Å–∞–π—Ç–∞
            siteLogoUrl: function(){
                return this.$store.state.homePage.siteLogoUrl;
            },
            //—Ñ–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            homePageImageUrl: function(){
                return this.$store.state.homePage.homePageImageUrl;
            },
            //–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
            welcomeImageUrl: function(){
                return this.$store.state.homePage.welcomeImageUrl;
            }
        },
    }
</script>